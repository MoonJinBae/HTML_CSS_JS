<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>과제</title>
</head>

<body>
    <button type="button" onclick="play(1)">
        <img src="/image/math_img_1.jpg" alt="">
    </button>
    <button type="button" onclick="play(2)">
        <img src="/image/math_img_2.jpg" alt="">
    </button>
    <button type="button" onclick="play(3)">
        <img src="/image/math_img_3.jpg" alt="">
    </button>
    <button type="button" onclick="reset()">reset</button>
    <h3 id="result"></h3>
    <script>
        let win = 0;
        let draw = 0;
        let lose = 0;
        let game = 0;
        function play(num) {
            let cnt = 0;
            let player = (num == 1 ? "가위" : num == 2 ? "바위" : "보");
            let com = "";
            let result = "";
            let ran = Math.floor((Math.random() * 3) + 1);
            com = (ran == 1 ? "가위" : ran == 2 ? "바위" : "보");
            switch (num) {
                case 1:
                    if (ran == 1) {
                        draw++;
                        result = "비겼습니다."
                    } else if (ran == 2) {
                        lose++;
                        result = "졌습니다."
                    } else {
                        win++;
                        result = "이겼습니다"
                    }
                    break;
                case 2:
                    if (ran == 2) {
                        draw++;
                        result = "비겼습니다."
                    } else if (ran == 3) {
                        lose++;
                        result = "졌습니다."
                    } else {
                        win++;
                        result = "이겼습니다"
                    }
                    break;
                case 3:
                    if (ran == 3) {
                        draw++;
                        result = "비겼습니다."
                    } else if (ran == 1) {
                        lose++;
                        result = "졌습니다."
                    } else {
                        win++;
                        result = "이겼습니다"
                    }
                    break;
            };
            game++;
            let winRate = (win / game) * 100;
            document.getElementById('result').innerHTML =
                `당신: ${player}<br>컴퓨터: ${com}<br>${result}<br>현재전적<br>게임수: ${game}<br>
                승: ${win}<br>무: ${draw}<br>패: ${lose}<br>승률: ${winRate.toFixed(2)}%`;
        };
        function reset() {
            document.getElementById('result').innerText = "다시 시작"
            win = 0;
            draw = 0;
            lose = 0;
            game = 0;
        };

    </script>
</body>

</html>