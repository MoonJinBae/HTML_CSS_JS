<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>나이 구하기</title>
</head>

<body>
    이름 : <input type="text" id="name"> <br>
    주민번호 : <input type="text" id="rNum"> <br>
    <button type="button" id="input">확인</button>

    <h3>
        <!-- 이름, 생년월일, 성별, 나이 -->
        <dl id="print"></dl>
    </h3>

    <script>
        // 오늘날짜 변환
        let today = new Date();
        console.log(typeof today);
        console.log(today.getFullYear()); // 년도
        console.log(today.getMonth() + 1); // 월(0 ~ 11 -> +1해줘야함)
        console.log(today.getDate()); // 일 반환 1 ~ 31
        console.log(today.getDay()); // 요일 0(일) ~ 6(토)

        // getHours, minutes, seconds : 시분초 추출
        let today2 = today.toLocaleDateString(); // 년월일 추출
        console.log(today2);

        let time = today.toLocaleTimeString(); // 시간만 추출
        console.log(time);
        console.log(today.toLocaleString()); // 년월일 시분초
        
        document.getElementById('input').addEventListener('click', () => {
            // 오늘날짜 리턴
            let now = new Date();
            console.log(now.getFullYear()); // 연도만 추출

            let name = document.getElementById('name').value;
            let rNum = document.getElementById('rNum').value;
            let birth = rNum.slice(0, rNum.indexOf("-"));
            let gender = (rNum.charAt(rNum.indexOf("-") + 1) == "1" || rNum.charAt(rNum.indexOf("-") + 1) == "3" ? "남" : "여");

            let year = (rNum.substr(0, 2));
            console.log(year);
            year = (year.charAt(0) <= "2" ? "20" + year : "19" + year);
            console.log(year);
            console.log(now.getFullYear());
            let age = (Number(now.getFullYear()) - Number(year));

            document.getElementById('print').innerHTML = `<dd>이름: ${name}</dd>
            <dd>생년월일: ${birth}</dd>
            <dd>성별: ${gender}</dd>
            <dd>나이: ${age}</dd>`;
        });

    </script>
</body>

</html>